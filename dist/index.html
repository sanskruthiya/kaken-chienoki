<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="initial-scale=1, user-scalable=no,maximum-scale=1,width=device-width" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="description" content="科学研究費助成事業による研究概要の全体像を可視化した概念マップです。KAKENデータベースにて2024年9月1日時点で取得した2021年度以降開始（または開始予定）研究、約11万1千件をマッピングしています。">
        <title>知恵の木 - 科研費研究の全体像</title>
        <style>
            #titlewindow {position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #f5fffa; display: flex; justify-content: center; align-items: center; z-index: 1000;}
            #titlewindow h1 {color:#111; font-size: 24px; font-weight: normal; font-family: Helvetica, "游ゴシック体", YuGothic, "YuGothic M", sans-serif; text-align: center;}
            #title-svg {display: block; margin: 0 auto;}
            #titlewindow p {color:#777; font-size: 12px; font-weight: normal; font-family: Helvetica, "游ゴシック体", YuGothic, "YuGothic M", sans-serif; text-align: center;}
            #hide-title-button {position: absolute; top: 10px; right: 10px; background-color: transparent; border: none; color: #3498db; cursor: pointer; outline: none;}
        </style>
    </head>
    <body>
        <div id="titlewindow" class="title-overlay">
            <div class="title">
                <h1>知恵の木へようこそ！</h1>
                <svg height="280px" width="280px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 511.85 511.85" xml:space="preserve" fill="#000000" stroke="#000000" stroke-width="0.00511849"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="2.047396"></g><g id="SVGRepo_iconCarrier"> <path style="fill:#9ED36A;" d="M380.653,121.437c2.467-54.273-32.475-104.555-85.599-118.043 C244.6-9.415,193.709,15.039,169.654,59.728C106.955,72.209,53.846,120.991,37.57,189.111 C15.264,282.496,70.607,376.826,161.204,399.82c33.693,8.559,64.387-2.047,94.721-13.387 c110.482,49.75,199.689-5.343,219.012-86.287C493.196,223.741,451.443,146.601,380.653,121.437z"></path> <g style="opacity:0.2;"> <path style="fill:#FFFFFF;" d="M380.653,121.437c2.467-54.273-32.475-104.555-85.599-118.043 c-16.371-4.155-32.787-4.381-48.33-1.273c1.89,0.375,3.78,0.797,5.67,1.273c53.124,13.488,88.067,63.77,85.599,118.042 c70.791,25.164,112.544,102.305,94.283,178.71c-12.777,53.547-56.139,95.768-116.011,103.828 c81.522,10.341,143.019-38.27,158.671-103.828C493.196,223.741,451.443,146.601,380.653,121.437z"></path> </g> <g> <path style="fill:#f4e1e1;" d="M261.798,329.498l-67.495-64.168c-4.264-4.062-11.028-3.891-15.074,0.382 c-4.061,4.265-3.889,11.021,0.375,15.081l0,0l0,0l0,0l0,0l67.495,64.168L261.798,329.498z"></path> <path style="fill:#f4e1e1;" d="M328.512,217.837c-3.405-4.811-10.06-5.951-14.854-2.546l-63.403,44.884l12.325,17.417 l63.402-44.893C330.777,229.294,331.917,222.64,328.512,217.837z"></path> </g> <path style="fill:#f4e1e1;" d="M255.831,170.586c-5.889,0-10.669,4.772-10.669,10.661v330.602h21.321V181.246 C266.484,175.358,261.72,170.586,255.831,170.586z"></path> <path style="fill:#f4e1e1;" d="M287.821,490.527h-63.98c-5.905,0-10.669,4.765-10.669,10.653s4.764,10.668,10.669,10.668h63.98 c5.889,0,10.668-4.779,10.668-10.668S293.71,490.527,287.821,490.527z"></path> <g> <path style="fill:#EC5564;" d="M127.855,149.256c-5.889,0-10.669,4.772-10.669,10.661s4.78,10.668,10.669,10.668 c5.889,0,10.668-4.78,10.668-10.668C138.523,154.028,133.743,149.256,127.855,149.256z"></path> <path style="fill:#EC5564;" d="M234.494,85.268c-5.889,0-10.653,4.772-10.653,10.661c0,5.896,4.764,10.668,10.653,10.668 s10.668-4.772,10.668-10.668C245.162,90.04,240.383,85.268,234.494,85.268z"></path> <path style="fill:#EC5564;" d="M383.964,255.895c5.889,0,10.668-4.771,10.668-10.661c0-5.889-4.779-10.661-10.668-10.661 s-10.669,4.772-10.669,10.661C373.295,251.124,378.075,255.895,383.964,255.895z"></path> <path style="fill:#EC5564;" d="M319.812,127.927c-5.889,0-10.669,4.772-10.669,10.661c0,5.896,4.78,10.668,10.669,10.668 s10.668-4.772,10.668-10.668C330.48,132.699,325.7,127.927,319.812,127.927z"></path> <path style="fill:#EC5564;" d="M170.513,319.891c-5.889,0-10.668,4.78-10.668,10.669s4.78,10.653,10.668,10.653 s10.668-4.765,10.668-10.653S176.402,319.891,170.513,319.891z"></path> <path style="fill:#EC5564;" d="M106.533,255.895c-5.904,0-10.668,4.78-10.668,10.668s4.764,10.669,10.668,10.669 c5.873,0,10.653-4.78,10.653-10.669S112.406,255.895,106.533,255.895z"></path> <path style="fill:#EC5564;" d="M191.835,192.001c-5.889,0-10.653,4.772-10.653,10.668c0,5.889,4.764,10.661,10.653,10.661 s10.668-4.772,10.668-10.661C202.504,196.773,197.724,192.001,191.835,192.001z"></path> <path style="fill:#EC5564;" d="M319.812,277.233c-5.889,0-10.669,4.779-10.669,10.668s4.78,10.653,10.669,10.653 s10.668-4.765,10.668-10.653S325.7,277.233,319.812,277.233z"></path> <path style="fill:#EC5564;" d="M383.964,319.891c-5.889,0-10.669,4.78-10.669,10.669s4.78,10.653,10.669,10.653 s10.668-4.765,10.668-10.653S389.853,319.891,383.964,319.891z"></path> </g> </g></svg>
                <p>Now loading・・<span id="loading-count">0</span>%</p>
                <p>最終更新日：2024年9月12日</p>
                <button id="hide-title-button">マップを見る</button>
            </div>
        </div>
        <div id="map"></div>
        <div id="buttons">
            <button type="button" class="btnctrl" id="b_description">このマップ<br>について</button>
            <button type="button" class="btnctrl" id="b_location">初期位置<br>に戻る</button>
            <button type="button" class="btnctrl" id="b_filter">フィルター<br>絞り込み</button>
            <!--<button type="button" class="btnctrl" id="b_listing">リスト一覧<br>の表示</button>-->
        </div>
        <div id="filterbox" class="filter-overlay top">
            <div class="filter-overlay-inner">
                <fieldset id="text-fieldset">
                    <input id="filterinput" type="text" placeholder="検索ワードを入力">
                    <div id="clearButton" class="clearbutton" onclick='filterinput.value="";'> X </div>
                </fieldset>
                <fieldset id="category-fieldset">
                    <div class="select-overlay"><select id="category-id" name="category-id" class="category-select"></select></div>
                </fieldset>
            </div>
        </div>
        <div id="feature-list" class="list-overlay"></div>
        <div id="icon-center" class="crosshair">
            <svg focusable="false" width="100px" height="100px" viewBox="-0.5 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21.5001 12.5H16.5601" stroke="rgba(100,100,100,0.5)" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M7.44 12.5H2.5" stroke="rgba(100,100,100,0.5)" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 22V17.06" stroke="rgba(100,100,100,0.5)" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 7.94V3" stroke="rgba(100,100,100,0.5)" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M5.26001 10.5C5.93001 8.22 7.73001 6.41999 10.01 5.75999" stroke="rgba(100,100,100,0.5)" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M14.01 19.24C16.29 18.58 18.09 16.78 18.76 14.5" stroke="rgba(100,100,100,0.5)" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M5.26001 14.5C5.93001 16.78 7.73001 18.58 10.01 19.24" stroke="rgba(100,100,100,0.5)" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M14.01 5.75999C16.29 6.41999 18.09 8.22 18.76 10.5" stroke="rgba(100,100,100,0.5)" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
        <div id="description" class="map-overlay">
            <h2>知恵の木</h2>
            <p class="tipstyle01">科学研究費助成事業データベース（KAKEN）から取得した日本の科学研究の情報に基づく文書分散表現をインタラクティブに可視化するウェブマップです。</p>
            <p class="tipstyle01">この説明を閉じるには、もう一度「このマップについて」ボタンを押してください。</p>
            <p class="tipstyle01">対象データは<a href="https://kaken.nii.ac.jp/">KAKEN</a>から「開始年度 : 2021 TO 2024 AND 研究課題ステータス: 採択 OR 交付 OR 完了」の条件で2024年9月1日時点で検索・収集した約11万件です。</p>
            <p class="tipstyle01">地図上の色模様は研究の件数密集度を表し、マップ上に広がる無数の点の一つ一つが研究概要とリンクしています。検索フィルター機能は未完成（現状はズームレベルに応じて部分的にヒットする仕様）です。ご了承ください。</p>
            <p class="tipstyle01">画面右上のペンボタンを押すと、ポイントや図形をマップ内に描画できます。目印を付ける用途でご利用ください。</p>
            <p class="tipstyle01">ご意見等は<a href="https://form.run/@party--1681740493" target="_blank">問い合わせフォーム（外部サービス）</a>からお知らせください。</p>
            <hr>
            <p class="remarks">Map rendering powered by <a href="https://maplibre.org/">MapLibre</a>.<br>Research information provided by <a href="https://kaken.nii.ac.jp/">KAKEN</a>.<br>Vectors and icons for the logo provided by <a href="https://www.svgrepo.com">SVG Repo</a></p>
            <hr>
            <p class="remarks">技術情報とコード：<a href="https://github.com/sanskruthiya/kaken-chienoki/">Github</a></p>
        </div>
        <script src="app/data/flatgeobuf-geojson.min.js"></script>
        <script src="app/main.js?20240912"></script>
    </body>
</html>
